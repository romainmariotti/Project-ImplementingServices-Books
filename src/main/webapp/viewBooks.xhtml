<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
>
  <h:body>
    <h:form>
      <h:outputLabel value="Filter by Category: " />
      <h:inputText value="#{bookBean.categoryFilter}" />
      <h:commandButton value="Search" action="#{bookBean.filterByCategory}" />

      <h:outputLabel value="Filter by Writer: " />
      <h:inputText value="#{bookBean.writerFilter}" />
      <h:commandButton value="Search" action="#{bookBean.filterByWriter}" />

      <h:outputLabel value="Filter by Title: " />
      <h:inputText value="#{bookBean.titleFilter}" />
      <h:commandButton value="Search" action="#{bookBean.filterByTitle}" />

      <h:dataTable value="#{bookBean.filteredBooks}" var="book">
        <h:column>
          <f:facet name="header">Title</f:facet>
          #{book.title}
        </h:column>
        <h:column>
          <f:facet name="header">Category</f:facet>
          #{book.category.name}
        </h:column>
        <h:column>
          <f:facet name="header">Writer</f:facet>
          #{book.writer.firstname} #{book.writer.lastname}
        </h:column>
      </h:dataTable>
    </h:form>
  </h:body>
</html>
